/*!
 * MIT License
 * 
 * Copyright (c) 2017 Shift Media Holdings
 * 
 * This file is part of the Grauman File Viewer
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 * 
 */
__graumanJsonp__([3],{191:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=o(2),s=n(i),u=o(6),r=n(u),a=o(43),c=n(a),d=o(29),h=n(d);o(217);var m={isHovering:!1,isDragging:!1,percentPlayed:0,hoverTime:0,cursorX:0,oninit:function(e){this._onDocumentMouseUp=this._onDocumentMouseUp.bind(this,e),this._onDocumentMouseMove=this._onDocumentMouseMove.bind(this,e)},oncreate:function(e){e.attrs.onLockControls(!0)},onupdate:function(e){this.isHovering&&(this.hoverTime=this.cursorX/e.dom.offsetWidth*e.attrs.duration),this.isDragging?this.percentPlayed=this.cursorX/e.dom.offsetWidth*100||0:this.percentPlayed=e.attrs.currentTime/e.attrs.duration*100||0},_onMouseMove:function(e,t){var o=e.dom.getBoundingClientRect(),n=Math.max(0,t.clientX-o.left),i=parseInt(e.dom.offsetWidth,10);this.cursorX=Math.min(n,i)},_onMouseEnter:function(){this.isHovering=!0},_onMouseLeave:function(){this.isHovering=!1},_onMouseDown:function(e,t){this.isDragging=!0,this._attachDocumentListeners(),t.stopPropagation(),t.preventDefault()},_attachDocumentListeners:function(){document.addEventListener("mouseup",this._onDocumentMouseUp),document.addEventListener("mousemove",this._onDocumentMouseMove)},_removeDocumentListeners:function(){document.removeEventListener("mouseup",this._onDocumentMouseUp),document.removeEventListener("mousemove",this._onDocumentMouseMove)},_onDocumentMouseUp:function(e){this.isDragging=!1,e.attrs.onSeek(this.hoverTime),h.default.closest(e.dom,".media-container").focus(),this._removeDocumentListeners()},_onDocumentMouseMove:function(e,t){this._onMouseMove(e,t)},view:function(e){var t=this,o=this.hoverTime/e.attrs.duration*100||0;return(0,s.default)(".viewer",{style:{"background-color":"#fff"},onclick:function(){e.attrs.onSeek(t.hoverTime)},onmousemove:this._onMouseMove.bind(this,e),onmouseenter:this._onMouseEnter.bind(this,e),onmousedown:this._onMouseDown.bind(this,e),onmouseleave:this._onMouseLeave.bind(this,e)},[(0,s.default)("audio",e.attrs.mediaAttrs),e.attrs.file.waveform?[(0,s.default)(".audio-image",{style:{"background-image":'url("'+e.attrs.file.waveform+'")'}},[(0,s.default)(".audio-playhead",{style:{width:this.percentPlayed+"%"}}),this.isHovering?(0,s.default)(".audio-scrubber",{style:{width:o+"%"}},[(0,s.default)(".hover-time",{class:(0,r.default)({right:o<50})},c.default.toTime(this.hoverTime))]):""])]:""])}};t.default=m},217:function(e,t){}});